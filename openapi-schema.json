{"openapi":"3.0.1","info":{"title":"Ecoembes Central Server API - Prototype TW1 (Java)","description":"API documentation for the Ecoembes project, prototype 1. This version uses simulated data and in-memory session management.","license":{"name":"Deusto License","url":"https://www.deusto.es"},"version":"v1.0.0"},"servers":[{"url":"http://localhost:8081","description":"Generated server url"}],"tags":[{"name":"Ecoembes API","description":"Main API for Ecoembes Server Prototype 1"}],"paths":{"/api/v1/plants/assign":{"post":{"tags":["Ecoembes API"],"summary":"Assign one or more dumpsters to a recycling plant","operationId":"assignDumpstersToPlant","parameters":[{"name":"Authorization","in":"header","description":"Session token received at login","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignDumpsterDTO"}}},"required":true},"responses":{"200":{"description":"Dumpsters assigned successfully"},"401":{"description":"Invalid token"}}}},"/api/v1/logout":{"post":{"tags":["Ecoembes API"],"summary":"Logout an employee","operationId":"logout","parameters":[{"name":"Authorization","in":"header","description":"Session token received at login","required":true,"schema":{"type":"string"}}],"responses":{"401":{"description":"Invalid token"},"200":{"description":"Logout successful"}}}},"/api/v1/login":{"post":{"tags":["Ecoembes API"],"summary":"Login an employee","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginCredentialDTO"}}},"required":true},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenDTO"}}}},"401":{"description":"Invalid credentials"}}}},"/api/v1/dumpsters":{"post":{"tags":["Ecoembes API"],"summary":"Create a new dumpster","operationId":"createNewDumpster","parameters":[{"name":"Authorization","in":"header","description":"Session token received at login","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewDumpsterDTO"}}},"required":true},"responses":{"401":{"description":"Invalid token","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DumpsterStatusDTO"}}}},"201":{"description":"Dumpster created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DumpsterStatusDTO"}}}}}}},"/api/v1/plants/capacity":{"get":{"tags":["Ecoembes API"],"summary":"Check available capacity at recycling plants","operationId":"getPlantCapacity","parameters":[{"name":"Authorization","in":"header","description":"Session token received at login","required":true,"schema":{"type":"string"}},{"name":"date","in":"query","description":"Date to check capacity for (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"401":{"description":"Invalid token","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PlantCapacityDTO"}}}}},"200":{"description":"Successfully retrieved plant capacities","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PlantCapacityDTO"}}}}}}}},"/api/v1/dumpsters/usage":{"get":{"tags":["Ecoembes API"],"summary":"Query dumpster usage over a time period","operationId":"getDumpsterUsage","parameters":[{"name":"Authorization","in":"header","description":"Session token received at login","required":true,"schema":{"type":"string"}},{"name":"startDate","in":"query","description":"Start date for query (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","description":"End date for query (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"401":{"description":"Invalid token","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DumpsterUsageDTO"}}}}},"200":{"description":"Successfully retrieved dumpster usage data","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DumpsterUsageDTO"}}}}}}}},"/api/v1/dumpsters/status":{"get":{"tags":["Ecoembes API"],"summary":"Check dumpster status for a specific area","operationId":"getDumpsterStatus","parameters":[{"name":"Authorization","in":"header","description":"Session token received at login","required":true,"schema":{"type":"string"}},{"name":"postalCode","in":"query","description":"Postal code of the area to check","required":true,"schema":{"type":"string"}},{"name":"date","in":"query","description":"Date to check status for (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Successfully retrieved dumpster status","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DumpsterStatusDTO"}}}}},"401":{"description":"Invalid token","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DumpsterStatusDTO"}}}}}}}}},"components":{"schemas":{"AssignDumpsterDTO":{"required":["dumpsterIDs","plantID"],"type":"object","properties":{"plantID":{"type":"string"},"dumpsterIDs":{"type":"array","items":{"type":"string"}},"date":{"type":"string","format":"date"}}},"LoginCredentialDTO":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"AuthTokenDTO":{"type":"object","properties":{"token":{"type":"string"},"timestamp":{"type":"integer","format":"int64"}}},"NewDumpsterDTO":{"required":["location"],"type":"object","properties":{"location":{"type":"string"},"initialCapacity":{"minimum":1,"type":"number","format":"double"}}},"DumpsterStatusDTO":{"type":"object","properties":{"dumpsterID":{"type":"string"},"location":{"type":"string"},"fillLevel":{"type":"string"},"containersNumber":{"type":"integer","format":"int32"}}},"PlantCapacityDTO":{"type":"object","properties":{"plantID":{"type":"string"},"plantName":{"type":"string"},"availableCapacityTons":{"type":"number","format":"double"}}},"DumpsterUsageDTO":{"type":"object","properties":{"dumpsterID":{"type":"string"},"date":{"type":"string","format":"date"},"fillLevel":{"type":"string"},"containersCount":{"type":"integer","format":"int32"}}}}}}